# 産業用フォーマット・フォントとの比較

DXFは汎用的な設計データ交換形式ですが、製造現場やデザイン分野では、特定の用途に特化した他の2D形式（ガーバー、Gコード、フォントデータ等）も併用されます。これらの形式とDXFの違い、および変換時の注意点を解説します。

---

## 1. DXF vs ガーバーデータ (Gerber / RS-274X)

ガーバーデータは、プリント基板（PCB）製造の業界標準フォーマットです。

| 特徴 | DXF | ガーバー (RS-274X) |
| :--- | :--- | :--- |
| **主な用途** | 機械設計、汎用2D/3D図面 | プリント基板のパターン、マスク、シルク印刷 |
| **構造** | ベクター幾何学（線、円弧、ポリライン） | アパーチャ（絞り）による「フラッシュ」と「ドロー」 |
| **レイヤーの意味** | 設計者の任意の分類（外形、寸法など） | 製造工程に直結（表面銅箔、レジスト、穴あけ） |
| **座標系** | 任意（WCS/OCS） | 基板の絶対座標（通常はインチまたはmm） |

### 変換時の注意点
- **極性 (Polarity)**: ガーバーには「ポジ（描画）」と「ネガ（除去）」の概念がありますが、DXFにはありません。
- **塗りの扱い**: DXFの `HATCH` や太い `POLYLINE` をガーバーに変換する場合、基板製造機が理解できるパスに「塗りつぶし」処理を行う必要があります。

---

## 2. DXF vs Gコード (G-code / RS-274)

Gコードは、CNC工作機械や3Dプリンターを制御するための数値制御（NC）言語です。

| 特徴 | DXF | Gコード |
| :--- | :--- | :--- |
| **役割** | **「設計データ」**（何を書きたいか） | **「加工命令」**（どう動かすか） |
| **内容** | 形状の定義（始点、終点、半径など） | 座標移動、主軸回転、冷却液ON/OFFなどの逐次実行 |
| **抽象度** | 高い（幾何学的エンティティ） | 低い（工具径補正後の移動パス） |
| **互換性** | 多くのCADで共通 | 機械（コントローラー）ごとに方言がある |

### ワークフローの関係
通常、**CAD (DXF)** → **CAM (変換)** → **NC (Gコード)** という流れで処理されます。CAMソフトはDXFを読み込み、工具の太さや切削速度を考慮してGコードを生成します。

---

## 3. DXF vs フォントデータ (TTF / OTF / SHX)

文字データは、CADにおいて最もトラブルの多い領域の一つです。

| 形式 | 種類 | CADでの扱い |
| :--- | :--- | :--- |
| **TTF / OTF** | アウトラインフォント | Windows/Mac共通。CAD内ではベジェ曲線として表示。 |
| **SHX** | ストロークフォント | AutoCAD独自の形式。線（ストローク）のみで構成される。 |
| **DXF (Exploded)** | 幾何形状 | フォントを「分解」して線分や円弧にしたもの。 |

### CADにおける文字の落とし穴
- **「文字」か「形状」か**: 加工機（レーザーカッター等）に送る場合、DXF内のテキストエンティティ (`TEXT`, `MTEXT`) は無視されることが多いです。
- **解決策**: フォントを幾何形状に「アウトライン化（分解/Explode）」する必要があります。
- **SHXフォントの不在**: AutoCAD以外でSHXを含むDXFを開くと、フォントが標準フォントに置き換わり、文字の位置や大きさが狂うことがあります。

---

## 4. その他の関連フォーマット

### HPGL / PLT (Hewlett-Packard Graphics Language)
- **用途**: プロッター（大型プリンター）や古い切削機。
- **特徴**: ペンの上げ下げ (`PU`, `PD`) と移動 (`PA`) で構成される、非常に単純なコマンド形式です。DXFよりもさらに機械制御に近いフォーマットです。

### PDF (Vector PDF)
- **用途**: 図面の配布、閲覧。
- **比較**: PDFも内部にベクターデータを持てますが、レイヤー情報やCAD的な幾何属性（円の半径など）を正確に復元するのは困難です。

---

## 5. どのフォーマットを選ぶべきか？

| 目的 | 推奨フォーマット | 理由 |
| :--- | :--- | :--- |
| **機械設計・データ交換** | **DXF** | ほとんどのCADがサポートしており、精度が高い。 |
| **基板製造 (PCB)** | **Gerber (RS-274X)** | 基板工場の製造ラインがこの形式を前提としている。 |
| **工作機械の直接制御** | **G-code** | 機械のコントローラーが解釈できる唯一の言語。 |
| **グラフィックデザイン** | **SVG / AI** | 色、グラデーション、ベジェ曲線の扱いが得意。 |

---

関連：[DXF vs SVG](./dxf-vs-svg.md) | [DXF vs DWG](./dxf-vs-dwg.md)

