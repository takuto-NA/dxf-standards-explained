# 最初の1歩：最小構成のDXFを作る

DXF（Drawing Exchange Format）を理解する最も近道は、テキストエディタで最小限のDXFファイルを手書きしてみることです。

## 💡 なぜ今、DXFを学ぶのか？

DXFは1982年にAutoCADと共に誕生した、40年以上の歴史を持つフォーマットです。なぜ現代においても、エンジニアがこの「古い」規格を学ぶ必要があるのでしょうか？

1. **業界標準の交換形式**: ほぼ全てのCAD、3Dモデリングソフト、製造機器（レーザーカッター、CNC）がサポートしています。
2. **テキストベースの透明性**: ASCII形式であれば人間が読めるため、デバッグが容易で、独自のジェネレーターを容易に作成できます。
3. **Web・モバイルとの親和性**: 複雑なバイナリ形式（DWG）に比べ、パーサーの実装が比較的容易なため、Webブラウザ上でのプレビューや処理に適しています。
4. **不変の基礎**: バージョンアップは繰り返されていますが、タグとグループコードという基本構造は40年間変わっていません。一度学べば長く使える知識となります。

## 最小のDXFコード

以下のコードを `minimal.dxf` として保存してください。これは、座標 (0,0) から (10,10) まで線を引く、AutoCAD R12形式の最小構成に近いDXFです。

参考：リポジトリには同等のサンプルとして `samples/minimal_r12.dxf` も置いてあります（差分比較に使えます）。
- GitHub上で見る: [samples/minimal_r12.dxf](https://github.com/takuto-NA/dxf-standards-explained/blob/main/samples/minimal_r12.dxf)
- サンプル一覧: [DXF Samples](../samples/README.md)

```text
  0
SECTION
  2
ENTITIES
  0
LINE
  8
0
 10
0.0
 20
0.0
 30
0.0
 11
10.0
 21
10.0
 31
0.0
  0
ENDSEC
  0
EOF
```

## コードの解説

DXFは「グループコード」と「値」のペアで構成されています。

1. **`0` / `SECTION`**: セクションの開始を宣言します。
2. **`2` / `ENTITIES`**: 図形データ（エンティティ）を記述するセクションであることを示します。
3. **`0` / `LINE`**: 線（LINE）エンティティの開始です。
4. **`8` / `0`**: 画層（レイヤー）名が "0" であることを示します。
5. **`10, 20, 30`**: 始点の X, Y, Z 座標です。
6. **`11, 21, 31`**: 終点の X, Y, Z 座標です。
7. **`0` / `ENDSEC`**: セクションの終了です。
8. **`0` / `EOF`**: ファイルの終端（End Of File）です。

## 試してみよう

作成した `minimal.dxf` を、お手持ちのCADソフト（AutoCAD, DraftSight, LibreCAD, ブラウザベースのDXFビューワーなど）で開いてみてください。斜めの線が1本表示されるはずです。

### なぜこれだけで動くのか？
本来、DXFには `HEADER` や `TABLES` などのセクションが必要ですが、多くのCADソフトは `ENTITIES` セクションだけの「不完全なDXF」でも、デフォルト設定を補完して読み取ってくれる互換性を持っています。

これがDXFが「交換形式」として長く愛されている理由の一つです。

---

## 次に読む

- [タグ構造とグループコードの基本](../structure/tag-and-group-code.md)
- [セクション概要](../structure/sections-overview.md)
- [DXF Samples](../samples/README.md)

