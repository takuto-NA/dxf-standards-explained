# 最初の1歩：DXFの正体を知る

DXF（Drawing Exchange Format）を理解する最も近道は、その誕生の背景を知り、テキストエディタで最小限のコードを手書きしてみることです。

## 💡 DXFとは何か？

DXFは1982年にAutodesk社がAutoCADと共に発表した、**「異なるCADソフト間でデータをやり取りする（交換する）」**ためのフォーマットです。

### なぜSVGやDWGではないのか？
現代には多くの画像・図面フォーマットがありますが、なぜ今でもDXFが使われ続けているのでしょうか？

| 比較対象 | DXFを選ぶ理由 |
| :--- | :--- |
| **vs SVG** | SVGはデザイン用で、座標の精度や「レイヤー」「ブロック」といったCAD特有の概念を持たないため、製造（CNC加工など）にはDXFが必須です。 |
| **vs DWG** | DWGはAutoCADの標準形式ですが、中身が公開されていないバイナリ形式です。DXFは中身が公開されたテキスト（ASCII）形式なので、誰でもプログラムで読み書きできます。 |

## DXFの文法：「グループコード」と「値」

DXFの構造は非常にシンプルです。すべてのデータは、**「グループコード（数字）」**と**「値」**の2行1セット（ペア）で構成されています。

```text
  0        <-- グループコード (何の種類かを示すID)
SECTION    <-- 値 (具体的な内容)
```

- **グループコード**: 0番なら「エンティティの種類」、8番なら「レイヤー名」、10番なら「X座標」といったように、役割が数字で決まっています。
- **値**: グループコードに応じた具体的な中身（名前や数値など）が入ります。

::: tip グループコードは暗記しなくてOK！
数千種類あるグループコードを覚える必要はありません。必要なときに[リファレンス](../structure/tag-and-group-code.md)を確認すれば十分です。
:::

## 最小のDXFコード

以下のコードを `minimal.dxf` として保存してください。これは、座標 (0,0) から (10,10) まで線を引く、最小構成のDXFです。

```text
  0
SECTION
  2
ENTITIES
  0
LINE
  8
0
 10
0.0
 20
0.0
 30
0.0
 11
10.0
 21
10.0
 31
0.0
  0
ENDSEC
  0
EOF
```

## コードの解説（1行ずつ読み解く）

このコードを「グループコード」と「値」のペアとして分解すると、以下のようになります。

1. **`0` / `SECTION`**: 「セクション」の開始を宣言します。
2. **`2` / `ENTITIES`**: ここから「図形データ（ENTITIES）」が始まることを示します。
3. **`0` / `LINE`**: 「線（LINE）」という図形をここから描くことを宣言します。
4. **`8` / `0`**: この線はレイヤー名「0」に属することを示します。
5. **`10, 20, 30`**: 始点の X, Y, Z 座標です。
6. **`11, 21, 31`**: 終点の X, Y, Z 座標です。
7. **`0` / `ENDSEC`**: セクションの終了です。
8. **`0` / `EOF`**: ファイルの終端（End Of File）です。

## よくある疑問

### なぜ数字（グループコード）を使うの？
1980年代のコンピュータは非力だったため、"LayerName" といった長い文字列を解析するよりも、"8" という数字で判断する方が圧倒的に高速に処理できたからです。その仕組みが40年以上変わらずに続いています。

### DXFにコメントは書ける？
はい、グループコード **`999`** を使うと、その次の行はコメントとして扱われます（多くのCADソフトで無視されます）。

```text
999
これは自分へのメモです
```

---

## 次に読む

- [タグ構造とグループコードの基本](../structure/tag-and-group-code.md)
- [セクション概要](../structure/sections-overview.md)
- [DXF Samples](../samples/README.md)

